<section class="page space-y-4">
	<ui-page-header title="Crear deuda" subtitle="Registra una deuda pendiente para llevar control.">
		<div actions>
			<ui-button variant="ghost" size="sm" type="button" (click)="back()">← Volver</ui-button>
		</div>
	</ui-page-header>

	@if (error) {
	<ui-alert tone="danger" [message]="error" />
	}

	<ui-card>
		<form class="space-y-4" [formGroup]="form" (ngSubmit)="submit()">
			<ui-form-field label="Nombre del acreedor" [required]="true"
				[error]="form.controls.creditorName.touched && form.controls.creditorName.invalid ? 'Este campo es requerido' : null">
				<ui-input formControlName="creditorName" placeholder="Ej: Juan Pérez" />
			</ui-form-field>

			<div class="grid gap-4 sm:grid-cols-2">
				<ui-form-field label="Email del acreedor" [required]="true"
					[error]="form.controls.creditorEmail.touched && form.controls.creditorEmail.invalid ? 'Email inválido' : null">
					<ui-input type="email" formControlName="creditorEmail" placeholder="tu@email.com"
						autocomplete="email" />
				</ui-form-field>

				<ui-form-field label="Teléfono del acreedor" [required]="true"
					[error]="form.controls.creditorPhone.touched && form.controls.creditorPhone.invalid ? 'Este campo es requerido' : null">
					<ui-input formControlName="creditorPhone" placeholder="Ej: 3001234567" />
				</ui-form-field>
			</div>

			<ui-form-field label="Monto" [required]="true"
				[error]="form.controls.amount.touched && form.controls.amount.invalid ? 'Monto debe ser mayor a 0' : null">
				<ui-input type="number" formControlName="amount" [min]="0.01" [step]="0.01" placeholder="0.00" />
			</ui-form-field>

			<ui-form-field label="Descripción" [hint]="'Opcional'">
				<ui-textarea [rows]="3" formControlName="description" placeholder="Notas, contexto, etc." />
			</ui-form-field>

			<div class="flex flex-wrap gap-2 pt-2">
				<ui-button variant="soft" type="submit" [disabled]="loading">
					@if (loading) { Creando... } @else { Crear deuda }
				</ui-button>

				<ui-button variant="ghost" type="button" (click)="back()">Cancelar</ui-button>
			</div>
		</form>
	</ui-card>
</section>